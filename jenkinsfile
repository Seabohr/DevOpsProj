pipeline{
	agent any
	environment {
		PASSWORD = credentials('DBPW')
 	}
	stages{
		stage ('Build'){
			steps{

				sh "cd BaseFiles"
				sh "docker-compose up -d"
		}
		}
		stage ('Test'){
			steps{
				sh "sudo apt install python3-pip -y"
				sh "cd frontend"
				sh "pip3 install -r requirements.txt"
				sh "python3 -m pytest --cov application --cov-report html"
			        sh "cd .."
				sh "cd backend"
				sh "pip3 install -r requirements.txt"
                                sh "python3 -m pytest --cov application --cov-report html"

			}
		}
		}
		}
